# 명령어 사이클

* 프로그램은 수 많은 명령어로 이루어져있고, CPU는 이 명렁어들을 하나씩 실행한다. 이 때, 프로그램 속 각각의 명령어들은 일정한 주기가 반복되며 실행되는데, 이 주기를 **명령어 사이클**이라고 한다.
* 메모리에 저장된 명령어를 하나씩 실행시키려면 우선 명령어를 메모리에서 CPU로 가져와야 한다. 메모리에 있는 명령어를 CPU로 가지고 오는 단계를 **인출 사이클 이라고 한다.**
* CPU로 명령어를 인출했다면 명령어를 실행한다. 이 단계를 **실행 사이클**이라고 하며, 제어장치가 명령어 레지스터에 담긴 값을 해석하고 제어 신호를 발생시키는 단계이다.
* 명령어를 가져와도 바로 실행할 수 없는 경우가 있다. 명령어를 실행하기 위해서 메모리 접근을 한번 더 해야하는 상황에서 메모리에 접근하는 단계를 **간접 사이클**이라고 한다.

# 인터럽트
* '방해하다', '중단시키다'라는 의미로 CPU가 수행 중인 작업은 방해를 받아 중단될 수 있는데, 이렇게 CPU의 작업을 방해하는 신호를 **인터럽트**라고 한다.
* 인터럽트의 종류는 크게 '동기 인터럽트'와 '비동기 인터럽트'가 존재한다.

## 동기 인터럽트
* CPU에 의해 발생하는 인터럽트로 CPU가 명령어를 수행하다가 예상치 못한 상황에 마주쳤을 때, 가령 CPU가 실행하는 프로그래밍상의 오류와 같은 예외적인 상황에 마주쳤을 때 발생하는 인터럽트가 동기 인터럽트이다.
* 동기 인터럽트는 **예외(Exception)**라고도 부른다.

## 비동기 인터럽트
* 주로 입출력 장치에 의해 발생하는 인터럽트이다.
* CPU는 입출력 작업 도중에도 효율적으로 명령어를 처리하기 위해 이런 알람과 같은 인터럽트를 사용한다.

### 비동기 인터럽트의 처리순서
1. 입출력장치는 CPU에 인터럽트 요청 신호를 보낸다.
2. CPU는 실행 사이클이 끝나고 명령어를 인출하기 전 항상 인터럽트 여부를 확인한다.
3. CPU는 인터럽트 요청을 확인하고 인터럽트 플래그를 통해 현재 인터럽트를 받아들일 수 있는지 여부를 확인한다.
4. 인터럽트를 받아들일 수 있다면 CPU는 지금까지의 작업을 백업한다.
5. CPU는 인터럽트 벡터를 참조하여 인터럽트 서비스 루틴을 실행한다.
6. 인터럽트 서비스 루틴 실행이 끝나면 4번에서 백업해 둔 작업을 복구하여 실행을 재개한다.

인터럽트 서비스 루틴 : 어떤 인터럽트가 발생했을 때, 해당 인터럽트를 어떻게 처리하고 작동해야 할지에 대한 정보로 이루어진 프로그램

인터럽트 벡터 : 수많은 인터럽트 서비스 루틴에서, 현재 인터럽트 서비스 루틴을 구분하기 위한 정보

